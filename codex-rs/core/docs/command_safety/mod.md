# command_safety/mod.rs - 命令安全模块入口

## 文件作用

该文件是命令安全检查模块的入口，负责组织和导出命令安全相关的子模块。

## 模块结构

### 公开模块
- `is_dangerous_command` - 危险命令检测
- `is_safe_command` - 安全命令检测
- `windows_safe_commands` (仅 Windows) - Windows 平台特定的安全命令检测

## 模块说明

该模块采用模块化设计，将命令安全检查的不同方面分离到独立的子模块中：

1. **安全命令检测** (`is_safe_command.rs`):
   - 识别已知安全的命令
   - 支持命令白名单
   - 处理特定命令的安全参数检查

2. **危险命令检测** (`is_dangerous_command.rs`):
   - 识别潜在危险的命令
   - 检测可能造成数据丢失或系统损害的操作
   - 提供危险级别评估

3. **Windows 专用检测** (`windows_safe_commands.rs`):
   - Windows 平台的 PowerShell 命令检查
   - CMD 命令验证
   - 平台特定的安全策略

## 设计理念

- **分层检查**: 先检查是否安全，再检查是否危险
- **平台感知**: 针对不同操作系统提供专门的检查逻辑
- **可扩展性**: 模块化设计便于添加新的安全规则

## 与其他模块的关系

- **被 `exec` 模块使用**: 在执行命令前进行安全检查
- **被 `sandbox` 模块使用**: 决定是否需要沙箱执行
- **被用户审批系统使用**: 决定是否需要用户确认
- **与 `bash` 模块协作**: 解析 shell 命令语法
